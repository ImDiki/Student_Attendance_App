<Page x:Class="Student_Attendance_System.Views.MainMenuPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      Title="Main Menu" Background="{DynamicResource AppBackground}">

    <Grid>
        <Border x:Name="GlowEffect" Width="800" Height="800" CornerRadius="400" HorizontalAlignment="Center" VerticalAlignment="Center" Opacity="0.1">
            <Border.Background>
                <RadialGradientBrush>
                    <GradientStop x:Name="GlowColorStop" Color="#00FFFF" Offset="0"/>
                    <GradientStop Color="Transparent" Offset="1"/>
                </RadialGradientBrush>
            </Border.Background>
            <Border.Effect>
                <BlurEffect Radius="100"/>
            </Border.Effect>
        </Border>

        <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" VerticalAlignment="Top" Margin="20">
            <Button x:Name="btnTheme" Content="🌙 Dark Mode" Click="btnTheme_Click" Background="Transparent" Foreground="{DynamicResource PrimaryText}" Margin="0,0,10,0" FontWeight="Bold"/>
            <Button Content="⚙️ Settings" Background="Transparent" Foreground="{DynamicResource PrimaryText}"/>
        </StackPanel>

        <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center" Width="550">

            <Grid Width="160" Height="160" Margin="0,0,0,30">

                <Border CornerRadius="80" BorderThickness="3" BorderBrush="{DynamicResource AccentColor}" Padding="15">
                    <Border.Effect>
                        <DropShadowEffect Color="#00FFFF" BlurRadius="40" ShadowDepth="0" Opacity="0.3"/>
                    </Border.Effect>
                    <Border.Background>
                        <ImageBrush ImageSource="/Resources/logo.png" Stretch="Uniform"/>
                    </Border.Background>
                </Border>

                <Grid HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,66.5,63.5">

                    <Ellipse Width="10" Height="10">
                        <Ellipse.Fill>
                            <RadialGradientBrush>
                                <GradientStop Color="#FFFFFF" Offset="0"/>
                                <GradientStop Color="#FFD700" Offset="0.6"/>
                                <GradientStop Color="Transparent" Offset="1"/>
                            </RadialGradientBrush>
                        </Ellipse.Fill>
                        <Ellipse.Effect>
                            <BlurEffect Radius="5"/>
                        </Ellipse.Effect>
                    </Ellipse>

                    <Ellipse Width="4" Height="4" Fill="White" HorizontalAlignment="Center" VerticalAlignment="Center">
                        <Ellipse.Effect>
                            <DropShadowEffect Color="#FFD700" BlurRadius="5" ShadowDepth="0"/>
                        </Ellipse.Effect>
                    </Ellipse>

                    <Grid.Triggers>
                        <EventTrigger RoutedEvent="Loaded">
                            <BeginStoryboard>
                                <Storyboard RepeatBehavior="Forever" AutoReverse="True">
                                    <DoubleAnimation Storyboard.TargetProperty="Opacity" From="0.5" To="1.0" Duration="0:0:0.6"/>
                                    <DoubleAnimation Storyboard.TargetProperty="Width" From="8" To="12" Duration="0:0:0.6"/>
                                    <DoubleAnimation Storyboard.TargetProperty="Height" From="8" To="12" Duration="0:0:0.6"/>
                                </Storyboard>
                            </BeginStoryboard>
                        </EventTrigger>
                    </Grid.Triggers>
                </Grid>

            </Grid>

            <TextBlock Text="学生出席管理システム" FontSize="32" FontWeight="Bold" Foreground="{DynamicResource PrimaryText}" HorizontalAlignment="Center" Margin="0,0,0,10">
                <TextBlock.Effect>
                    <DropShadowEffect Color="#00FFFF" BlurRadius="10" Opacity="0.3"/>
                </TextBlock.Effect>
            </TextBlock>
            <TextBlock Text="Student Attendance System" FontSize="16" Foreground="{DynamicResource SecondaryText}" HorizontalAlignment="Center" Margin="0,0,0,50"/>

            <StackPanel>
                <Button Click="btnLogin_Click" Height="80" Margin="0,0,0,10" Background="{DynamicResource SurfaceColor}" BorderBrush="{DynamicResource AccentColor}" BorderThickness="1">
                    <Button.Resources>
                        <Style TargetType="Border">
                            <Setter Property="CornerRadius" Value="15"/>
                        </Style>
                    </Button.Resources>
                    <StackPanel Orientation="Horizontal" Width="450">
                        <Border Width="50" Height="50" CornerRadius="25" Background="{DynamicResource AccentColor}" Margin="20,0,20,0">
                            <TextBlock Text="🔐" FontSize="20" HorizontalAlignment="Center" VerticalAlignment="Center" Foreground="White"/>
                        </Border>
                        <StackPanel VerticalAlignment="Center">
                            <TextBlock Text="ログイン (Login)" FontSize="20" FontWeight="Bold" Foreground="{DynamicResource PrimaryText}"/>
                            <TextBlock Text="管理者・学生用アクセス" FontSize="13" Foreground="{DynamicResource SecondaryText}"/>
                        </StackPanel>
                    </StackPanel>
                </Button>

                <Button Click="btnRegister_Click" Height="80" Margin="0,0,0,10" Background="{DynamicResource SurfaceColor}" BorderBrush="{DynamicResource AccentColor2}" BorderThickness="1">
                    <Button.Resources>
                        <Style TargetType="Border">
                            <Setter Property="CornerRadius" Value="15"/>
                        </Style>
                    </Button.Resources>
                    <StackPanel Orientation="Horizontal" Width="450">
                        <Border Width="50" Height="50" CornerRadius="25" Background="{DynamicResource AccentColor2}" Margin="20,0,20,0">
                            <TextBlock Text="📝" FontSize="20" HorizontalAlignment="Center" VerticalAlignment="Center" Foreground="White"/>
                        </Border>
                        <StackPanel VerticalAlignment="Center">
                            <TextBlock Text="新規登録 (Register)" FontSize="20" FontWeight="Bold" Foreground="{DynamicResource PrimaryText}"/>
                            <TextBlock Text="新しいアカウントを作成" FontSize="13" Foreground="{DynamicResource SecondaryText}"/>
                        </StackPanel>
                    </StackPanel>
                </Button>

                <Button Click="btnAdmin_Click" Height="80" Background="{DynamicResource SurfaceColor}" BorderBrush="{DynamicResource AccentColor}" BorderThickness="1">
                    <Button.Resources>
                        <Style TargetType="Border">
                            <Setter Property="CornerRadius" Value="15"/>
                        </Style>
                    </Button.Resources>
                    <StackPanel Orientation="Horizontal" Width="450">
                        <Border Width="50" Height="50" CornerRadius="25" Background="{DynamicResource AccentColor}" Margin="20,0,20,0">
                            <TextBlock Text="📊" FontSize="20" HorizontalAlignment="Center" VerticalAlignment="Center" Foreground="White"/>
                        </Border>
                        <StackPanel VerticalAlignment="Center">
                            <TextBlock Text="管理者ダッシュボード" FontSize="20" FontWeight="Bold" Foreground="{DynamicResource PrimaryText}"/>
                            <TextBlock Text="データ管理・レポート" FontSize="13" Foreground="{DynamicResource SecondaryText}"/>
                        </StackPanel>
                    </StackPanel>
                </Button>
            </StackPanel>
        </StackPanel>
    </Grid>
</Page>